#!/usr/bin/env bash
# git_remotev 1.3.1
# List remote sources of all git repos

set -euo pipefail  # Fail immediately on any error
Gre='\e[1;32m' Red='\e[1;31m' Mag='\e[1;35m' Yel='\e[1;33m' Blu='\e[1;34m' Rst='\e[0m'

# ==== main
for r in $(ls -1) ; do
    if [[ -d "$r/.git" ]]; then
        (
            cd "$r"
            git remote -v | awk '{print $2}'
        )
    fi
done | sort -u | while read -r line; do
    printf "${Yel}%s${Rst}\n" "$line"
done
exit 0
